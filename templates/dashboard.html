{% extends "layout.html" %} {% block body %}

<div class="section">
  <h1 class="title is-1">Trackers</h1>
</div>

<div class="block">
  <a href="/add_tracker" class="button is-info is-fullwidth">
    <strong>+</strong> Add a Tracker</a
  >
</div>

{% for group in groups.keys() %}

<div class="box">
  <div class="block">
    <h1 class="title is-4" style="color: black">{{ group }}</h1>
  </div>

  <table class="table" , style="margin-left: auto; margin-right: auto">
    <thread>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Log</th>
        <th>Actions</th>
        <th>Analyze</th>
      </tr>
    </thread>

    {% for tracker in groups[group] %}

    <tr>
      <td>{{tracker.name}}</td>
      <td>{{tracker.option}}</td>
      <td>{{tracker.description}}</td>
      <td>
        <a class="button is-link" href="/log/{{tracker.id}}">Log</a>
        <a class="button is-link is-light" href="/view_log/{{tracker.id}}"
          >View Log</a
        >
      </td>
      <td>
        <a class="button is-warning" href="/update_tracker/{{tracker.id}}"
          >Update</a
        >
        <a class="button is-danger" href="/delete_tracker/{{tracker.id}}"
          >Delete</a
        >
      </td>
      <td><a href="/analyze_tracker/{{tracker.id}}" class="button is-info">Analyze</a></td>
    </tr>

    {% endfor %}
  </table>
</div>
{% endfor %}

<div class="box">
    <div class="block">
      <h1 class="title is-4" style="color: black">Last 5 logs</h1>
    </div>

<table class="table" , style="margin-left: auto; margin-right: auto">

    <thread>
        <tr>
            <th>Tracker name</th>
            <th>Tracker type</th>
          <th>Date and Time</th>
          <th>Value 1</th>
          <th>Value 2</th>
          <th>Weight</th>
          <th>note</th>
        </tr>
      </thread>

    {% for log in ulogs %}

    <tr>
        <td>{{ log.name }}</td>
        <td>{{ log.option }}</td>
        <td>{{ log.timestamp }}</td>
        <td>{{ log.value_1 }}</td>
        <td>{{ log.value_2 }}</td>
        <td>{{ log.weight }}</td>
        <td>{{ log.note }}</td>



    </tr>

    {% endfor %}
</table>
</div>
 

  {% endblock %}

